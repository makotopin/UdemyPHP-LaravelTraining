【11/2】
# PHPからLaravelまで サーバーサイドをとことんやってみよう
## 80. Laravel tinker

tinkerを使うとコマンド入力でデータを保存・閲覧できる
```php artisan tinker```というコマンドが基本となる

以下、実際に保存をしてみる。
①```php artisan tinker```を叩くと、入力を求められる
②```$test = new App\Models\Test;```で、以前に作ったTestモデルをインスタンス化する
③```$test->text = "aaa";```で、インスタンスの中のtextというカラム（前回のマイグレーションにて追加済み）にaaaという文字列を格納
④```$test->save();```で、保存する

ここで重要なのは
```$test->text = "aaa";```の部分。今回はモデルを指定しているので、この書き方をすると「カラム」を指定していることになる。
もし同じコードがあっても、これがApp\Controllers\TestControllerを指定していたら、意味は変わってくる。
コントローラーを指定した時は、クラス内で定義したプロパティを呼び出すだけにとどまり、DBへの関与は一切無い。

なお、Eloquentで書くのならば、createメソッドを使用して
```App\Models\Test::create(['text' => 'aaa']);```と書く（insertではないので注意）
そして、手前で「マスアサインメント制限」を外す必要がある。
要は、どのカラムにだけ変更を加えていいのか？というもの
```protected $fillable = ['text'];```
これはtextカラムだけ、変更を許可するということ。

例えば、権限に関するカラムを変更可能や、新しいレコードでAdmin権限での生成可能にしてしまうと
攻撃者に権限を変更されたり、Admin権限のユーザーをつくられてしまうことになる。

その後、
```App\Models\Test::all();```で表示確認。
ただ、このコマンドだけでは配列の中身まで見ることはできなかった。
そこで```> App\Models\Test::all()->toArray();```とすることで、中の配列まで確認できた。

このように、簡単にデータ操作をするためのしくみがtinkerである。